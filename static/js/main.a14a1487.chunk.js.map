{"version":3,"sources":["components/Searchbar/Searchbar.module.css","components/Section/Section.module.css","components/ImageDataView/ImageDataView.module.css","components/Modal/Modal.module.css","components/ImageGalleryItem/ImageGalleryItem.module.css","components/Button/Button.module.css","components/Loader/Loader.module.css","components/ImageGallery/ImageGallery.module.css","components/Section/Section.jsx","components/Searchbar/Searchbar.jsx","servises/getApi.js","components/ImageGalleryItem/ImageGalleryItem.jsx","components/Button/Button.jsx","components/ImageDataView/ImageDataView.jsx","components/Loader/Loader.jsx","components/ImageGallery/ImageGallery.jsx","components/Modal/Modal.jsx","components/App/App.jsx","index.js"],"names":["module","exports","Sections","title","children","className","s","section","Searchbar","state","value","handleOnChange","e","setState","currentTarget","toLowerCase","handleOnSubmit","preventDefault","onSubmit","props","trim","toast","info","this","searchbar","searchForm","searchFormInput","onChange","type","autoComplete","placeholder","searchFormButton","style","width","fill","height","Component","BASE_URL","KEY","name","page","a","searchParams","URLSearchParams","q","per_page","image_type","orientation","url","axios","get","response","data","result","dark","ImageGalleryItem","smallImg","largeImg","alt","openModal","onClick","image","src","Button","loadMore","button","ImageDataView","imagesArray","gallery","map","id","webformatURL","largeImageURL","tags","galleryItem","Spinner","loader","color","timeout","Status","ImageGallery","status","updatePage","prevState","prevProps","prevName","imageName","nextName","prevPage","nextPage","fetch","then","images","newImagesArray","hits","totalImages","totalHits","length","error","modalRoot","document","querySelector","Modal","hendleKeyDown","code","onClose","hendleBackdropClick","target","window","addEventListener","removeEventListener","modalPicture","createPortal","overlay","modal","App","showModal","searchValue","getNameImage","toggleModal","autoClose","ReactDOM","render","StrictMode","getElementById"],"mappings":"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","file":"static/js/main.a14a1487.chunk.js","sourcesContent":["// extracted by mini-css-extract-plugin\nmodule.exports = {\"searchbar\":\"Searchbar_searchbar__jo466\",\"searchForm\":\"Searchbar_searchForm__23jwf\",\"searchFormButton\":\"Searchbar_searchFormButton__MrnjN\",\"searchFormInput\":\"Searchbar_searchFormInput__tpesZ\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"section\":\"Section_section__Ap5Zy\",\"title\":\"Section_title__2S6oE\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"position\":\"ImageDataView_position__3RiQl\",\"gallery\":\"ImageDataView_gallery__1MnFt\",\"galleryItem\":\"ImageDataView_galleryItem__2cTY2\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"overlay\":\"Modal_overlay__2GjdW\",\"modal\":\"Modal_modal__P3_V5\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"image\":\"ImageGalleryItem_image__2xsbt\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"button\":\"Button_button__3QF_k\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"loader\":\"Loader_loader__1j2Bs\"};","// extracted by mini-css-extract-plugin\nmodule.exports = {\"imageGallery\":\"ImageGallery_imageGallery__20iVM\",\"title\":\"ImageGallery_title__3-87x\"};","import PropTypes from 'prop-types';\nimport s from './Section.module.css';\n\nexport default function Sections({ title, children }) {\n  return (\n    <section className={s.section}>\n      {title && <h2 className={s.title}>{title}</h2>}\n      {children}\n    </section>\n  );\n}\n\nSections.propTypes = {\n  title: PropTypes.string,\n  children: PropTypes.node,\n};\n","import { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { BsFillBinocularsFill } from 'react-icons/bs';\nimport { toast } from 'react-toastify';\n\nimport s from './Searchbar.module.css';\n\nexport default class Searchbar extends Component {\n  state = {\n    value: '',\n  };\n\n  handleOnChange = e => {\n    this.setState({ value: e.currentTarget.value.toLowerCase() });\n  };\n\n  handleOnSubmit = e => {\n    e.preventDefault();\n    const { onSubmit } = this.props;\n    const { value } = this.state;\n\n    if (value.trim() === '') {\n      return toast.info('Please input name image......');\n    }\n\n    onSubmit(value);\n    this.setState({ value: '' });\n  };\n\n  render() {\n    const { value } = this.state;\n    return (\n      <header className={s.searchbar}>\n        <form className={s.searchForm} onSubmit={this.handleOnSubmit}>\n          <input\n            className={s.searchFormInput}\n            onChange={this.handleOnChange}\n            value={value}\n            type=\"text\"\n            autoComplete=\"off\"\n            placeholder=\"Search images .......\"\n          />\n          <button type=\"submit\" className={s.searchFormButton}>\n            <BsFillBinocularsFill\n              style={{ width: '30', fill: '#3f51b5', height: '30' }}\n            />\n          </button>\n        </form>\n      </header>\n    );\n  }\n}\nSearchbar.propTypes = {\n  onSubmit: PropTypes.func.isRequired,\n};\n","import axios from 'axios';\nimport { toast } from 'react-toastify';\n\nconst BASE_URL = 'https://pixabay.com/api/';\nconst KEY = '24045276-2d1f958b632c915d7d2587282';\n\nexport async function fetch(name, page) {\n  const searchParams = new URLSearchParams({\n    q: name,\n    per_page: 12,\n    image_type: 'photo',\n    orientation: 'horizontal',\n    page: page,\n  });\n\n  let url = `${BASE_URL}?key=${KEY}&${searchParams}`;\n\n  try {\n    const response = await axios.get(url);\n    const result = await response.data;\n    return result;\n  } catch (error) {\n    toast.dark(`No image with  ${name}`);\n  }\n}\n","import React from 'react';\n\nimport s from './ImageGalleryItem.module.css';\n\nexport default function ImageGalleryItem({\n  smallImg,\n  largeImg,\n  alt,\n  openModal,\n}) {\n  return (\n    <img\n      onClick={() => openModal(largeImg, alt)}\n      className={s.image}\n      src={smallImg}\n      alt={alt}\n    />\n  );\n}\n","import s from './Button.module.css';\n\nexport default function Button({ loadMore }) {\n  return (\n    <button type=\"button\" className={s.button} onClick={loadMore}>\n      Load more...\n    </button>\n  );\n}\n","import React from 'react';\nimport PropTypes from 'prop-types';\n\nimport ImageGalleryItem from '../ImageGalleryItem';\nimport Button from '../Button';\n\nimport s from './ImageDataView.module.css';\n\nexport default function ImageDataView({ imagesArray, openModal, loadMore }) {\n  return (\n    <>\n      <ul className={s.gallery}>\n        {imagesArray.map(({ id, webformatURL, largeImageURL, tags }) => (\n          <li key={id} className={s.galleryItem}>\n            <ImageGalleryItem\n              smallImg={webformatURL}\n              largeImg={largeImageURL}\n              alt={tags}\n              openModal={openModal}\n            />\n          </li>\n        ))}\n      </ul>\n      <Button loadMore={loadMore} />\n    </>\n  );\n}\n\nImageDataView.propTypes = {\n  imagesArray: PropTypes.array.isRequired,\n  openModal: PropTypes.func.isRequired,\n  loadMore: PropTypes.func.isRequired,\n};\n","import React, { Component } from 'react';\nimport Loader from 'react-loader-spinner';\n\nimport s from './Loader.module.css';\n\nexport default class Spinner extends Component {\n  render() {\n    return (\n      <Loader\n        className={s.loader}\n        type=\"Circles\"\n        color=\"#3f51b5\"\n        height={150}\n        width={150}\n        timeout={3000}\n      />\n    );\n  }\n}\n","import { Component } from 'react';\nimport PropTypes from 'prop-types';\n\nimport { toast } from 'react-toastify';\n\nimport { fetch } from '../../servises/getApi';\nimport ImageDataView from '../ImageDataView';\nimport Spinner from '../Loader';\n\nimport s from './ImageGallery.module.css';\n\nconst Status = {\n  IDLE: 'idle',\n  PENDING: 'pending',\n  RESOLVED: 'resolved',\n  REJECTED: 'rejected',\n};\n\nexport default class ImageGallery extends Component {\n  state = {\n    imagesArray: [],\n    page: 1,\n    status: Status.IDLE,\n  };\n\n  componentDidUpdate(prevProps, prevState) {\n    const prevName = prevProps.imageName;\n    const nextName = this.props.imageName;\n    const prevPage = prevState.page;\n    const nextPage = this.state.page;\n\n    if (prevName !== nextName) {\n      this.setState({ imagesArray: [] });\n    }\n\n    if (prevName !== nextName || prevPage !== nextPage) {\n      this.setState({ status: Status.PENDING });\n\n      fetch(nextName, nextPage).then(images => {\n        const newImagesArray = images.hits;\n        const totalImages = images.totalHits;\n\n        if (newImagesArray.length === 0 && totalImages === 0) {\n          return toast.info('Try to input next name... ');\n        }\n        if (newImagesArray.length === 0 && totalImages !== 0) {\n          return toast.info('Nothing more found');\n        }\n\n        this.setState(({ imagesArray }) => ({\n          imagesArray: [...imagesArray, ...newImagesArray],\n          status: Status.RESOLVED,\n        }));\n      });\n    }\n  }\n\n  updatePage = () => {\n    this.setState(prevState => {\n      return { page: prevState.page + 1 };\n    });\n  };\n\n  render() {\n    const { imagesArray, status } = this.state;\n    const { openModal } = this.props;\n\n    return (\n      <>\n        {status === 'idle' && (\n          <h1 className={s.title}>What do you want to see?</h1>\n        )}\n\n        {status === 'pending' && <Spinner />}\n\n        {status === 'resolved' && (\n          <ImageDataView\n            imagesArray={imagesArray}\n            openModal={openModal}\n            loadMore={this.updatePage}\n          />\n        )}\n\n        {status === 'rejected' &&\n          toast.error('We are sorry but something went wrong')}\n      </>\n    );\n  }\n}\n\nImageGallery.propTypes = {\n  imageName: PropTypes.string.isRequired,\n  openModal: PropTypes.func.isRequired,\n};\n","import { Component } from 'react';\nimport { createPortal } from 'react-dom';\n\nimport s from './Modal.module.css';\n\nconst modalRoot = document.querySelector(`#modal-root`);\n\nexport default class Modal extends Component {\n  componentDidMount() {\n    window.addEventListener('keydown', this.hendleKeyDown);\n  }\n\n  componentWillUnmount() {\n    window.removeEventListener('keydown', this.hendleKeyDown);\n  }\n\n  hendleKeyDown = e => {\n    if (e.code === 'Escape') {\n      this.props.onClose();\n    }\n  };\n\n  hendleBackdropClick = e => {\n    if (e.currentTarget === e.target) {\n      this.props.onClose();\n    }\n  };\n\n  render() {\n    const { src, alt } = this.props.modalPicture;\n    return createPortal(\n      <div className={s.overlay} onClick={this.hendleBackdropClick}>\n        <div className={s.modal}>\n          <img src={src} alt={alt}></img>\n        </div>\n      </div>,\n      modalRoot,\n    );\n  }\n}\n","import { Component } from 'react';\nimport { ToastContainer } from 'react-toastify';\n\nimport Sections from '../Section/Section';\nimport Searchbar from '../Searchbar/Searchbar';\nimport ImageGallery from '../ImageGallery';\nimport Modal from '../Modal';\n\nimport 'react-toastify/dist/ReactToastify.css';\n\nexport default class App extends Component {\n  state = {\n    showModal: false,\n    searchValue: '',\n    modalPicture: {\n      src: '',\n      alt: '',\n    },\n  };\n\n  getNameImage = searchValue => {\n    this.setState({ searchValue });\n  };\n\n  toggleModal = (src, alt) => {\n    this.setState(({ showModal }) => ({\n      showModal: !showModal,\n      modalPicture: {\n        src,\n        alt,\n      },\n    }));\n  };\n\n  render() {\n    const { searchValue, showModal, modalPicture } = this.state;\n    return (\n      <div>\n        <Searchbar onSubmit={this.getNameImage} />\n        <Sections>\n          <ImageGallery imageName={searchValue} openModal={this.toggleModal} />\n        </Sections>\n        {showModal && (\n          <Modal onClose={this.toggleModal} modalPicture={modalPicture} />\n        )}\n        <ToastContainer autoClose={3000} />\n      </div>\n    );\n  }\n}\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './components/App/App';\n\nReactDOM.render(\n  <React.StrictMode>\n    <App />\n  </React.StrictMode>,\n  document.getElementById('root'),\n);\n"],"sourceRoot":""}